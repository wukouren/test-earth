!function(e,n){"undefined"!=typeof module&&"object"==typeof exports?module.exports=n(e):"function"==typeof define&&(define.amd||define.cmd)?define([],function(o){return e.jw=n(e)}):e.jw=n(e)}(this,function(e){function n(n,o,c){/iPhone|iPad|iPod/i.test(a)?r?r.callHandler(n,i(o),function(e){u.callback(n,e,c)}):t(n,c):e.JoywokMobileApp?JoywokMobileApp.callHandler(n,i(o),function(e){u.callback(n,e,c)}):t(n,c)}function o(e,n,o){console.log(typeof n,n),"string"==typeof n&&(n=JSON.parse(n));var t,i,c;switch(delete n.err_code,delete n.err_desc,delete n.err_detail,t=n.errMsg,o=o||{},o._complete&&(o._complete(n),delete o._complete),t=n.errMsg||"",u.config.debug&&!o.isInnerInvoke&&alert(JSON.stringify(n)),i=t.indexOf(":"),c=t.substring(i+1)){case"ok":o.success&&o.success(n);break;case"cancel":o.cancel&&o.cancel(n);break;default:o.fail&&o.fail(n)}o.complete&&o.complete(n)}function t(e,n){if(console.log("innerInvoke",e,n,u.config),!(!u.config.debug||n&&n.isInnerInvoke)){var o=d[e];o&&(e=o),n&&n._complete&&delete n._complete,console.log('"'+e+'",',n||"")}}function i(e){return e=e||{},e.appId=c.appid,e.verifyAppId=c.appid,e.verifySignType="sha1",e.verifyTimestamp=c.timestamp+"",e.verifyNonceStr=c.nonceStr,e.verifySignature=c.signature,e.verifyCorpid=c.corpid,c.code&&0!=c.code.length&&(e.code=c.code),e}var c=defaultParams={debug:!1,appid:"",timestamp:0,nonceStr:"",signature:"",jsApiList:[],corpid:"",code:""},a=navigator.userAgent;"string"==typeof window.ide&&(a=window.ide);var r,s,d;s={config:"config",setTitle:"setTitle",onMenuShareTimeline:"menu:share:timeline",onMenuShareWechat:"menu:share:wechat"},d=function(){var e,n={};for(e in s)n[s[e]]=e;return n}();var u=u||{callback:o,connectJoywokMobileApp:function(e){window.JoywokMobileApp?e(JoywokMobileApp):document.addEventListener("JoywokMobileAppReady",function(){e(JoywokMobileApp)},!1)},config:function(e){function n(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var n=document.createElement("iframe");n.style.display="none",n.src="https://__bridge_loaded__",document.documentElement.appendChild(n),setTimeout(function(){document.documentElement.removeChild(n)},0)}var o=defaultParams;for(var t in e)o[t]=e[t];c=u.configs=o;var i=this;/iPhone|iPad|iPod/i.test(a)?n(function(e){r=e,"string"==typeof ide?r.init(function(){u.ready&&u.ready(),i.listen(e)}):(u.ready&&u.ready(),i.listen(e))}):u.connectJoywokMobileApp(function(e){e.init(function(n,o){var t={"Javascript Responds":"娴嬭瘯涓枃!"};u.ready&&u.ready(t),r=e,i.listen(e),o(t)})})},listen:function(e){e.registerHandler("onFilter",function(e,n){"function"==typeof window.onFilter&&window.onFilter(e)}),e.registerHandler("onSelectTab",function(e,n){"function"==typeof window.onJwSelectTab&&window.onJwSelectTab(e)}),e.registerHandler("onShowAppMore",function(e,n){"function"==typeof window.onShowAppMore&&window.onShowAppMore(e)}),e.registerHandler("onNavBtnClick",function(e,n){"function"==typeof window.onJwNavBtnClick&&window.onJwNavBtnClick(JSON.parse(e))}),e.registerHandler("subShareData",function(e,n){"function"==typeof window.subShareData&&window.subShareData(e)}),e.registerHandler("onVoiceRecordEnd",function(e,n){"function"==typeof window.onJWVoiceRecordEnd&&window.onJWVoiceRecordEnd(e)})},setTitle:function(e){var o={title:e.title};n("setTitle",o,e)},setHeaderLine:function(e){n("setHeaderLine",e)},checkJsApi:function(e){n("checkJsApi",{jsApiList:e.jsApiList},e)},getInfo:function(e){n("getInfo",{},e)},pushWebView:function(e){var o={url:e};n("pushWebView",o,e)},newWebView:function(e){var o={url:e};n("newWebView",o,e)},closeWebView:function(e){n("closeWebView",{},e)},setFuncBtns:function(e){var o={buttons:e};n("setFuncBtns",o,e)},setFuncBtnStatus:function(e){var o=e;n("setFuncBtnStatus",o,e)},showTabs:function(e){var o={tabs:e.tabs,selector:e.selector,style:e.style};e.position&&(o.position=e.position),n("showTabs",o,e)},hideTabs:function(e){n("hideTabs",{},e)},mailto:function(e){var o={email:e.email};n("mailto",o,e)},back:function(e){n("back",{},e)},onSelectTab:function(e){"function"==typeof window.onJwSelectTab&&window.onJwSelectTab(data)},onNavBtnClick:function(e){"function"==typeof window.onJwNavBtnClick&&window.onJwNavBtnClick(e)},getAuthCode:function(e,o){n("AuthCode",e,o)},onAuthCode:function(e){"function"==typeof window.onJwAuthCode&&window.onJwAuthCode(e)},getLocation:function(e,o){n("getLocation",e,o)},openLocation:function(e){n("openLocation",e)},previewImages:function(e){n("previewImages",e)},choseFile:function(e,o){n("choseFile",e,o)},uploadFile:function(e,o){n("uploadFile",e,o)},downloadFile:function(e,o){n("downloadFile",e,o)},scanQRCode:function(e,o){n("scanQRCode",e,o)},previewDoc:function(e,o){n("previewDoc",e,o)},setBarBg:function(e){n("setBarBg",e)},chartInit:function(e,o){n("chartInit",e,o)},chartSingle:function(e,o){n("chartSingle",e,o)},openImages:function(e){n("OpenImages",{},e)},shareData:function(e){n("shareData",e)},getUsers:function(e,o){n("getUsers",e,o)},sipMakeCall:function(e,o){n("sipMakeCall",e,o)},ocr:function(e,o){n("ocr",e,o)},startRecord:function(e){n("startRecord",{},e)},stopRecord:function(e){n("stopRecord",{},e)},chooseUsers:function(e,o){n("chooseUsers",e,o)}};return u});
